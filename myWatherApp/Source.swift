//
//  Source.swift
//  myWatherApp
//
//  Created by Yegor Podduba on 02/02/2024.
//
import UIKit
import Foundation
import MapKit


// Функция переводящая из UNIX времени (где огромное число секунд) в привичный формат
public func unixToTimeOnly(_ unixTimestamp: TimeInterval) -> String {
    let dateFormatter = DateFormatter()
    dateFormatter.dateFormat = "HH:mm"
    dateFormatter.timeZone = TimeZone(identifier: "UTC")
    let timeOnly = dateFormatter.string(from: Date(timeIntervalSince1970: unixTimestamp))
    
    return timeOnly
}

//Структура Город: Название города, Ширина и Долгота
struct City {
    let cityName : String
    let LATitude : Double
    let LONgitude : Double
}

// Структура почасовая - для горизонтальной карусели на расширенном экране погоды города (время в UNIX, температура, иконка)
struct Hourly {
    let time: Int?
    let temp: Int?
    let icon: UIImage?
}

// коллекция часового представления дл я карусели
//var hourlyWeather : [Hourly] = []

// коллекция городов с их координатами - костыль - надо переделать на MapKit
let allCities =
[
        City(cityName: "Москва", LATitude: 55.75, LONgitude: 37.62),
        City(cityName: "Астрахань", LATitude: 46.35, LONgitude: 48.04),
        City(cityName: "Барнаул", LATitude: 53.36, LONgitude: 83.76),
        City(cityName: "Брянск", LATitude: 53.25, LONgitude: 34.37),
        City(cityName: "Владивосток", LATitude: 43.11, LONgitude: 131.87),
        City(cityName: "Волгоград", LATitude: 48.72, LONgitude: 44.5),
        City(cityName: "Воронеж", LATitude: 51.67, LONgitude: 39.18),
        City(cityName: "Екатеринбург", LATitude: 56.85, LONgitude: 60.61),
        City(cityName: "Иваново", LATitude: 57.00, LONgitude: 40.97),
        City(cityName: "Ижевск", LATitude: 56.85, LONgitude: 53.2),
        City(cityName: "Иркутск", LATitude: 52.3, LONgitude: 104.3),
        City(cityName: "Казань", LATitude: 55.79, LONgitude: 49.12),
        City(cityName: "Калининград", LATitude: 54.71, LONgitude: 20.51),
        City(cityName: "Кемерово", LATitude: 55.33, LONgitude: 86.08),
        City(cityName: "Киров", LATitude: 58.6, LONgitude: 49.66),
        City(cityName: "Краснодар", LATitude: 45.04, LONgitude: 38.98),
        City(cityName: "Красноярск", LATitude: 56.02, LONgitude: 92.87),
        City(cityName: "Липецк", LATitude: 52.6, LONgitude: 39.57),
        City(cityName: "Махачкала", LATitude: 42.98, LONgitude: 47.5),
        City(cityName: "Набережные Челны", LATitude: 55.73, LONgitude: 52.41),
        City(cityName: "Нижний Новгород", LATitude: 56.33, LONgitude: 44.00),
        City(cityName: "Новокузнецк", LATitude: 53.76, LONgitude: 87.11),
        City(cityName: "Новосибирск", LATitude: 55.04, LONgitude: 82.93),
        City(cityName: "Омск", LATitude: 54.99, LONgitude: 73.37),
        City(cityName: "Оренбург", LATitude: 51.77, LONgitude: 55.10),
        City(cityName: "Пенза", LATitude: 53.2, LONgitude: 45.00),
        City(cityName: "Пермь", LATitude: 58.01, LONgitude: 56.25),
        City(cityName: "Ростов-на-Дону", LATitude: 47.23, LONgitude: 39.72),
        City(cityName: "Рязань", LATitude: 54.63, LONgitude: 39.69),
        City(cityName: "Самара", LATitude: 53.20, LONgitude: 50.15),
        City(cityName: "Санкт-Петербург", LATitude: 59.94, LONgitude: 30.31),
        City(cityName: "Саратов", LATitude: 51.54, LONgitude: 46.01),
        City(cityName: "Тольятти", LATitude: 53.53, LONgitude: 49.35),
        City(cityName: "Томск", LATitude: 56.5, LONgitude: 84.97),
        City(cityName: "Тула", LATitude: 54.20, LONgitude: 37.62),
        City(cityName: "Тюмень", LATitude: 57.15, LONgitude: 65.53),
        City(cityName: "Ульяновск", LATitude: 54.33, LONgitude: 48.39),
        City(cityName: "Уфа", LATitude: 54.74, LONgitude: 55.97),
        City(cityName: "Хабаровск", LATitude: 48.48, LONgitude: 135.08),
        City(cityName: "Чебоксары", LATitude: 56.13, LONgitude: 47.25),
        City(cityName: "Челябинск", LATitude: 55.15, LONgitude: 61.43),
        City(cityName: "Ярославль", LATitude: 57.63, LONgitude: 39.87),
        City(cityName: "Абу-Даби", LATitude: 24.47, LONgitude: 54.37),
        City(cityName: "Абуджа", LATitude: 9.06, LONgitude: 7.5),
        City(cityName: "Аддис-Абеба", LATitude: 9.02, LONgitude: 38.75),
        City(cityName: "Аккра", LATitude: 5.56, LONgitude: -0.2),
        City(cityName: "Алжир", LATitude: 36.73, LONgitude: 3.09),
        City(cityName: "Амман", LATitude: 31.96, LONgitude: 35.95),
        City(cityName: "Амстердам", LATitude: 52.37, LONgitude: 4.89),
        City(cityName: "Андорра-ла-Велья", LATitude: 42.51, LONgitude: 1.52),
        City(cityName: "Анкара", LATitude: 39.92, LONgitude: 32.85),
        City(cityName: "Антананариву", LATitude: -18.91, LONgitude: 47.54),
        City(cityName: "Апиа", LATitude: -13.83, LONgitude: -171.77),
        City(cityName: "Асмэра", LATitude: 15.34, LONgitude: 38.93),
        City(cityName: "Астана", LATitude: 51.18, LONgitude: 71.45),
        City(cityName: "Асунсьон", LATitude: -25.29, LONgitude: -57.65),
        City(cityName: "Афины", LATitude: 37.98, LONgitude: 23.73),
        City(cityName: "Ашхабад", LATitude: 37.95, LONgitude: 58.38),
        City(cityName: "Багдад", LATitude: 33.34, LONgitude: 44.4),
        City(cityName: "Баку", LATitude: 40.38, LONgitude: 49.89),
        City(cityName: "Бамако", LATitude: 12.65, LONgitude: -8.00),
        City(cityName: "Банги", LATitude: 4.36, LONgitude: 18.56),
        City(cityName: "Бангкок", LATitude: 13.75, LONgitude: 100.5),
        City(cityName: "Бандар-Сери-Бегаван", LATitude: 4.89, LONgitude: 114.94),
        City(cityName: "Банжул", LATitude: 13.45, LONgitude: -16.58),
        City(cityName: "Бастер", LATitude: 17.3, LONgitude: -62.73),
        City(cityName: "Бейрут", LATitude: 33.89, LONgitude: 35.5),
        City(cityName: "Белград", LATitude: 44.8, LONgitude: 20.47),
        City(cityName: "Бельмопан", LATitude: 17.25, LONgitude: -88.77),
        City(cityName: "Берлин", LATitude: 52.52, LONgitude: 13.41),
        City(cityName: "Берн", LATitude: 46.95, LONgitude: 7.45),
        City(cityName: "Бисау", LATitude: 11.86, LONgitude: -15.6),
        City(cityName: "Бишкек", LATitude: 42.87, LONgitude: 74.59),
        City(cityName: "Богота", LATitude: 4.61, LONgitude: -74.08),
        City(cityName:"Браззавиль", LATitude:-4.27, LONgitude:15.28),
        City(cityName:"Бразилия", LATitude:-15.78, LONgitude:-47.93),
        City(cityName:"Братислава", LATitude:48.15, LONgitude:17.11),
        City(cityName:"Бриджтаун", LATitude:13.11, LONgitude:-59.62),
        City(cityName:"Брюссель", LATitude:50.85, LONgitude:4.35),
        City(cityName:"Будапешт", LATitude:47.5, LONgitude:19.04),
        City(cityName:"Бужумбура", LATitude:-3.38, LONgitude:29.36),
        City(cityName:"Бухарест", LATitude:44.43, LONgitude:26.11),
        City(cityName:"Буэнос-Айрес", LATitude:-34.61, LONgitude:-58.38),
        City(cityName:"Вадуц", LATitude:47.14, LONgitude:9.52),
        City(cityName:"Валлетта", LATitude:35.9, LONgitude:14.51),
        City(cityName:"Варшава", LATitude:52.23, LONgitude:21.01),
        City(cityName:"Ватикан", LATitude:41.9, LONgitude:12.45),
        City(cityName:"Вашингтон", LATitude:38.9, LONgitude:-77.04),
        City(cityName:"Веллингтон", LATitude:-41.29, LONgitude:174.78),
        City(cityName:"Вена", LATitude:48.21, LONgitude:16.37),
        City(cityName:"Виктория", LATitude:-4.62, LONgitude:55.46),
        City(cityName:"Вильнюс", LATitude:54.69, LONgitude:25.28),
        City(cityName:"Виндхук", LATitude:-22.56, LONgitude:17.08),
        City(cityName:"Вьентьян", LATitude:17.97, LONgitude:102.6),
        City(cityName:"Габороне", LATitude:-24.65, LONgitude:25.91),
        City(cityName:"Гавана", LATitude:23.13, LONgitude:-82.38),
        City(cityName:"Гватемала", LATitude:14.64, LONgitude:-90.51),
        City(cityName:"Дакар", LATitude:14.69, LONgitude:-17.44),
        City(cityName:"Дакка", LATitude:23.71, LONgitude:90.41),
        City(cityName:"Дамаск", LATitude:33.51, LONgitude:36.29),
        City(cityName:"Джакарта", LATitude:-6.21, LONgitude:106.85),
        City(cityName:"Джибути", LATitude:11.59, LONgitude:43.15),
        City(cityName:"Джорджтаун", LATitude:6.8, LONgitude:-58.16),
        City(cityName:"Джуба", LATitude:4.85, LONgitude:31.58),
        City(cityName:"Дили", LATitude:-8.56, LONgitude:125.57),
        City(cityName:"Додома", LATitude:-6.17, LONgitude:35.74),
        City(cityName:"Доха", LATitude:25.29, LONgitude:51.53),
        City(cityName:"Дублин", LATitude:53.33, LONgitude:-6.25),
        City(cityName:"Душанбе", LATitude:38.54, LONgitude:68.78),
        City(cityName:"Ереван", LATitude:40.18, LONgitude:44.51),
        City(cityName: "Загреб", LATitude: 45.81, LONgitude: 15.98),
        City(cityName: "Исламабад", LATitude: 33.72, LONgitude: 73.04),
        City(cityName: "Кабул", LATitude: 34.53, LONgitude: 69.17),
        City(cityName: "Каир", LATitude: 30.06, LONgitude: 31.25),
        City(cityName: "Кампала", LATitude: 0.32, LONgitude: 32.58),
        City(cityName: "Канберра", LATitude: -35.28, LONgitude: 149.13),
        City(cityName: "Каракас", LATitude: 10.49, LONgitude: -66.88),
        City(cityName: "Кастри", LATitude: 14, LONgitude: -61.01),
        City(cityName: "Катманду", LATitude: 27.7, LONgitude: 85.32),
        City(cityName: "Кигали", LATitude: -1.95, LONgitude: 30.06),
        City(cityName: "Киев", LATitude: 50.45, LONgitude: 30.52),
        City(cityName: "Кингстаун", LATitude: 13.16, LONgitude: -61.23),
        City(cityName: "Кингстон", LATitude: 18, LONgitude: -76.79),
        City(cityName: "Киншаса", LATitude: -4.33, LONgitude: 15.31),
        City(cityName: "Кито", LATitude: -0.23, LONgitude: -78.52),
        City(cityName: "Кишинёв", LATitude: 47.01, LONgitude: 28.86),
        City(cityName: "Коломбо", LATitude: 6.93, LONgitude: 79.85),
        City(cityName: "Конакри", LATitude: 9.54, LONgitude: -13.68),
        City(cityName: "Копенгаген", LATitude: 55.68, LONgitude: 12.57),
        City(cityName: "Куала-Лумпур", LATitude: 3.14, LONgitude: 101.69),
        City(cityName: "Либревиль", LATitude: 0.39, LONgitude: 9.45),
        City(cityName: "Лилонгве", LATitude: -13.97, LONgitude: 33.79),
        City(cityName: "Лима", LATitude: -12.04, LONgitude: -77.03),
        City(cityName: "Лиссабон", LATitude: 38.72, LONgitude: -9.13),
        City(cityName: "Ломе", LATitude: 6.13, LONgitude: 1.22),
        City(cityName: "Лондон", LATitude: 51.51, LONgitude: -0.13),
        City(cityName: "Луанда", LATitude: -8.84, LONgitude: 13.23),
        City(cityName: "Лусака", LATitude: -15.41, LONgitude: 28.29),
        City(cityName: "Любляна", LATitude: 46.05, LONgitude: 14.51),
        City(cityName: "Люксембург", LATitude: 49.61, LONgitude: 6.13),
        City(cityName: "Маджуро", LATitude: 7.09, LONgitude: 171.38),
        City(cityName: "Мадрид", LATitude: 40.42, LONgitude: -3.7),
        City(cityName: "Малабо", LATitude: 3.76, LONgitude: 8.78),
        City(cityName: "Мале", LATitude: 4.18, LONgitude: 73.51),
        City(cityName: "Манагуа", LATitude: 12.13, LONgitude: -86.25),
        City(cityName: "Манама", LATitude: 26.23, LONgitude: 50.59),
        City(cityName: "Манила", LATitude: 14.6, LONgitude: 120.98),
        City(cityName: "Мапуту", LATitude: -25.97, LONgitude: 32.58),
        City(cityName: "Масеру", LATitude: -29.32, LONgitude: 27.48),
        City(cityName: "Маскат", LATitude: 23.58, LONgitude: 58.41),
        City(cityName: "Мбабане", LATitude: -26.32, LONgitude: 31.13),
        City(cityName: "Мехико", LATitude: 19.43, LONgitude: -99.13),
        City(cityName: "Минск", LATitude: 53.9, LONgitude: 27.57),
        City(cityName: "Могадишо", LATitude: 2.04, LONgitude: 45.34),
        City(cityName: "Монако", LATitude: 43.73, LONgitude: 7.42),
        City(cityName: "Монровия", LATitude: 6.3, LONgitude: -10.8),
        City(cityName: "Монтевидео", LATitude: -34.9, LONgitude: -56.19),
        City(cityName: "Морони", LATitude: -11.7, LONgitude: 43.26),
        //City(cityName: "Москва", LATitude: 55.75, LONgitude: 37.62),
        City(cityName: "Найроби", LATitude: -1.28, LONgitude: 36.82),
        City(cityName: "Нассау", LATitude: 25.06, LONgitude: -77.34),
        City(cityName: "Нджамена", LATitude: 12.11, LONgitude: 15.04),
        City(cityName: "Ниамей", LATitude: 13.51, LONgitude: 2.11),
        City(cityName: "Никосия", LATitude: 35.18, LONgitude: 33.36),
        City(cityName: "Нуакшот", LATitude: 18.09, LONgitude: -15.98),
        City(cityName: "Нукуалофа", LATitude: -21.14, LONgitude: -175.2),
        City(cityName: "Нью-Дели", LATitude: 28.64, LONgitude: 77.22),
        City(cityName: "Осло", LATitude: 59.91, LONgitude: 10.75),
        City(cityName: "Оттава", LATitude: 45.41, LONgitude: -75.7),
        City(cityName: "Паликир", LATitude: 6.92, LONgitude: 158.16),
        City(cityName: "Панама", LATitude: 8.99, LONgitude: -79.52),
        City(cityName: "Парамарибо", LATitude: 5.87, LONgitude: -55.17),
        City(cityName: "Париж", LATitude: 48.85, LONgitude: 2.35),
        City(cityName: "Пекин", LATitude: 39.91, LONgitude: 116.4),
        City(cityName: "Пномпень", LATitude: 11.56, LONgitude: 104.92),
        City(cityName: "Подгорица", LATitude: 42.44, LONgitude: 19.26),
        City(cityName: "Порт-Вила", LATitude: -17.74, LONgitude: 168.31),
        City(cityName: "Порт-Луи", LATitude: -20.16, LONgitude: 57.5),
        City(cityName: "Порт-Морсби", LATitude: -9.48, LONgitude: 147.15),
        City(cityName: "Порт-о-Пренс", LATitude: 18.54, LONgitude: -72.34),
        City(cityName: "Порт-оф-Спейн", LATitude: 10.67, LONgitude: -61.52),
        City(cityName: "Порто-Ново", LATitude: 6.5, LONgitude: 2.6),
        City(cityName: "Прага", LATitude: 50.09, LONgitude: 14.42),
        City(cityName: "Прая", LATitude: 14.93, LONgitude: -23.51),
        City(cityName: "Претория", LATitude: -25.74, LONgitude: 28.19),
        City(cityName: "Приштина", LATitude: 42.67, LONgitude: 21.17),
        City(cityName: "Пхеньян", LATitude: 39.03, LONgitude: 125.75),
        City(cityName: "Рабат", LATitude: 34.01, LONgitude: -6.83),
        City(cityName: "Рейкьявик", LATitude: 64.14, LONgitude: -21.9),
        City(cityName: "Рига", LATitude: 56.95, LONgitude: 24.11),
        City(cityName: "Рим", LATitude: 41.89, LONgitude: 12.51),
        City(cityName: "Розо", LATitude: 15.3, LONgitude: -61.39),
        City(cityName: "Сан-Марино", LATitude: 43.94, LONgitude: 12.45),
        City(cityName: "Сан-Сальвадор", LATitude: 13.69, LONgitude: -89.19),
        City(cityName: "Сан-Томе", LATitude: 0.34, LONgitude: 6.73),
        City(cityName: "Сан-Хосе", LATitude: 9.93, LONgitude: -84.08),
        City(cityName: "Сана", LATitude: 15.35, LONgitude: 44.21),
        City(cityName: "Санто-Доминго", LATitude: 18.47, LONgitude: -69.89),
        City(cityName: "Сантьяго", LATitude: -33.46, LONgitude: -70.65),
        City(cityName: "Сараево", LATitude: 43.85, LONgitude: 18.36),
        City(cityName: "Сент-Джонс", LATitude: 17.12, LONgitude: -61.84),
        City(cityName: "Сент-Джоржес", LATitude: 12.05, LONgitude: -61.75),
        City(cityName: "Сеул", LATitude: 37.57, LONgitude: 126.98),
        City(cityName: "Сингапур", LATitude: 1.29, LONgitude: 103.85),
        City(cityName: "Скопье", LATitude: 42, LONgitude: 21.43),
        City(cityName: "София", LATitude: 42.7, LONgitude: 23.32),
        City(cityName: "Стокгольм", LATitude: 59.33, LONgitude: 18.06),
        City(cityName: "Сува", LATitude: -18.14, LONgitude: 178.44),
        City(cityName: "Сукре", LATitude: -19.03, LONgitude: -65.26),
        City(cityName: "Тайбэй", LATitude: 25.05, LONgitude: 121.53),
        City(cityName: "Таллинн", LATitude: 59.44, LONgitude: 24.75),
        City(cityName: "Ташкент", LATitude: 41.26, LONgitude: 69.22),
        City(cityName: "Тбилиси", LATitude: 41.69, LONgitude: 44.83),
        City(cityName: "Тегеран", LATitude: 35.69, LONgitude: 51.42),
        City(cityName: "Тегусигальпа", LATitude: 14.08, LONgitude: -87.21),
        City(cityName: "Тирана", LATitude: 41.33, LONgitude: 19.82),
        City(cityName: "Токио", LATitude: 35.69, LONgitude: 139.69),
        City(cityName: "Триполи", LATitude: 32.89, LONgitude: 13.19),
        City(cityName: "Тунис", LATitude: 36.82, LONgitude: 10.17),
        City(cityName: "Тхимпху", LATitude: 27.47, LONgitude: 89.64),
        City(cityName: "Уагадугу", LATitude: 12.37, LONgitude: -1.53),
        City(cityName: "Улан-Батор", LATitude: 47.91, LONgitude: 106.88),
        City(cityName: "Фритаун", LATitude: 8.49, LONgitude: -13.24),
        City(cityName: "Ханой", LATitude: 21.02, LONgitude: 105.84),
        City(cityName: "Хараре", LATitude: -17.83, LONgitude: 31.05),
        City(cityName: "Хартум", LATitude: 15.55, LONgitude: 32.53),
        City(cityName: "Хельсинки", LATitude: 60.17, LONgitude: 24.94),
        City(cityName: "Хониара", LATitude: -9.43, LONgitude: 159.95),
        City(cityName: "Эль-Кувейт", LATitude: 29.37, LONgitude: 47.98),
        City(cityName: "Эр-Рияд", LATitude: 24.69, LONgitude: 46.72),
        City(cityName: "Южная Тарава", LATitude: 1.33, LONgitude: 172.98),
        City(cityName: "Ямусукро", LATitude: 6.82, LONgitude: -5.28),
        City(cityName: "Ярен", LATitude: -0.55, LONgitude: 166.93),
        City(cityName: "Яунде", LATitude: 3.87, LONgitude: 11.52),
        City(cityName: "Chicago", LATitude: 31.11, LONgitude: 12.12)
    ]




